<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qapture Albums</title>
    <link rel="stylesheet" href="_main-style.scss">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <div class="container">
        <header class="main-header">
            <h1 class="logo"><a href="/" aria-label="Qapture Home">Qapture</a></h1>
            <% if user_signed_in? %>
                <nav class="user-nav" aria-label="User Navigation">
                    <a href="#" onclick="history.back()" class="button">Back</a>
                    <%= button_to 'Log out', destroy_user_session_path, method: :delete, class: 'button' %>
                </nav>
            <% end %>
        </header>

        <!-- Main navigation links for the app -->
        <nav class="main-nav" aria-label="Primary Navigation">
            <a href="/feature_requests/new">🙋🏻‍♀️ Request a Feature</a>
            <%= link_to 'favorites', favorites_path %>
            <%= link_to '📸 Create New', new_event_path, class: 'button' %>
        </nav>

        <main>
            <!-- Recent events section displayed as horizontal cards -->
            <section class="recent-events">
                <h2>Your Recent Events</h2>
                <p>Here's a look at your latest gatherings. Click on any event to revisit those memories.</p>
                <% if @recent_events.any? %>
                    <div class="cards-grid">
                        <% @recent_events.each do |event| %>
                            <article class="card">
                                <div class="card-image">
                                    <%= image_tag 'placeholder.png', alt: event.name, class: 'responsive-img' %>
                                </div>
                                <div class="card-content">
                                    <h3><%= link_to event.name, event_path(event), aria_label: "View event #{event.name}" %></h3>
                                    <p><strong>Date:</strong> <%= event.date.strftime("%B %d, %Y") %></p>
                                    <p><strong>Host:</strong> <%= event.user.name %></p>
                                    <p><strong>Location:</strong> <%= event.location %></p>
                                    <p><strong>Uploads:</strong> <%= event.uploads.count %> photos/videos</p>
                                </div>
                            </article>
                        <% end %>
                    </div>
                <% else %>
                    <p>No events yet? Let’s change that! <%= link_to 'Create your first event', new_event_path %> and start capturing the moments that matter.</p>
                <% end %>
            </section>
        </main>

        <footer class="main-footer">
            <p>© 2024 Qapture. Capture, share, and relive your moments.</p>
        </footer>
    </div>

    <script src="albums.js"></script>
</body>
</html>
