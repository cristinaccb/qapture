<header>
  <h1>Welcome to Qapture</h1>
  <% if user_signed_in? %>
<%= button_to 'Log out', destroy_user_session_path, method: :delete %>
  <% end %>
</header>

<section>
  <h2>Create a New Event</h2>
  <%= form_for @event, url: events_path do |f| %>
    <div class="form-group">
      <%= f.label :name, "Event Name" %>
      <%= f.text_field :name, required: true, class: "form-control" %>
    </div>
    <div class="form-group">
      <%= f.label :file, "Upload File (Text, Image, Video)" %>
      <%= f.file_field :file, class: "form-control" %>
    </div>
    <div class="form-group">
      <%= f.submit 'Create Event', class: 'button' %>
    </div>
  <% end %>
</section>

<section>
  <h2>Recent Events</h2>
  <% if @recent_events.any? %>
    <div class="cards-grid">
      <% @recent_events.each do |event| %>
        <div class="card">
          <div class="card-image">
            <!-- Placeholder image, you can replace with event image -->
            <%= image_tag 'placeholder.png', alt: event.name %>
          </div>
          <div class="card-content">
            <h3><%= link_to event.name, event_path(event) %></h3>
            <p>Date: <%= event.date.strftime("%B %d, %Y") %></p>
            <p>Host: <%= event.host %></p>
            <p>Location: <%= event.location %></p>
            <p><%= event.uploads.count %> uploads</p>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <p>No events yet. <%= link_to 'Create your first event', new_event_path %>!</p>
  <% end %>
  <%= link_to 'View all events', events_path, class: 'button' %>
</section>

<section>
  <h2>Recent Uploads</h2>
  <% if @recent_uploads.any? %>
    <div class="uploads-grid">
      <% @recent_uploads.each do |upload| %>
        <div class="card">
          <div class="card-image">
            <%= image_tag upload.image.url if upload.image? %>
          </div>
          <div class="card-content">
            <h3><%= link_to upload.title, event_upload_path(upload.event, upload) %></h3>
            <p>Event: <%= link_to upload.event.name, event_path(upload.event) %></p>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <p>No uploads yet.</p>
  <% end %>
</section>

<section>
  <h2>Quick Actions</h2>
  <%= link_to 'Create New Event', new_event_path, class: 'button' %>
  <%= link_to 'Back', :back, class: 'button' %>
</section>
