<h1>Uploads for <%= @event.name %></h1>
<%= link_to 'Capture New Moment', new_event_upload_path(@event) %>

<!-- Add to app/views/layouts/application.html.erb within the <head> section -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<%= javascript_pack_tag 'share' %>

<% @uploads.each do |upload| %>
  <div>
    <img src="<%= asset_url(upload.file.url) %>" alt="Uploaded Image">
    <p>Uploaded by: <%= upload.user.present? ? upload.user.name : "Anonymous" %></p>
    <%= link_to 'Edit', edit_event_upload_path(@event, upload) %> |
    <%= link_to 'Delete', event_upload_path(@event, upload), method: :delete, data: { confirm: 'Are you sure?' } %> |

    <%= button_to favorite_event_upload_path(@event, upload), method: :post, class: "favorite-button", form: { class: "inline-form" } do %>
      <i class="fa fa-heart"></i>
    <% end %>

    <!-- Share button -->
    <button class="share-button" onclick="shareMedia('<%= asset_url(upload.file.url) %>')">Share</button>
  </div>

  <%= link_to 'Unfavorite', unfavorite_event_upload_path(@event, upload), method: :delete %>
<% end %>
